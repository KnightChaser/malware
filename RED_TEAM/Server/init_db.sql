-- 데이터베이스 생성
CREATE DATABASE IF NOT EXISTS test
CHARACTER SET utf8mb4
COLLATE utf8mb4_general_ci; -- 대소문자 구분하지 않는 일반 정렬 방식

-- 데이터베이스 사용
USE test;

-- keylogs 테이블 생성
CREATE TABLE IF NOT EXISTS keylogs (
    id INT AUTO_INCREMENT PRIMARY KEY,        -- 각 행에 대한 고유 ID 생성
    session_id VARCHAR(8) NOT NULL,           -- 세션 ID를 저장 (8자리 문자열)
    message TEXT CHARACTER SET utf8mb4        -- 키로깅 데이터를 저장
              COLLATE utf8mb4_general_ci,     -- 대소문자 구분하지 않는 정렬
    client_ip VARCHAR(45) CHARACTER SET utf8mb4 -- 클라이언트의 IP 주소를 저장
                 COLLATE utf8mb4_general_ci,  -- 대소문자 구분하지 않는 정렬
    client_port INT,                          -- 클라이언트 포트를 저장
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- 데이터 생성 시간을 자동으로 저장
) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;